{
  "manifest_version": 3,
  "name": "ポップアップ広告ブロッカー",
  "version": "1.0.0",
  "description": "侵入的なポップアップ広告をインテリジェントに検出し、ユーザーが管理できるようにします",
  "permissions": [
    "activeTab",
    "storage",
    "tabs"
  ],
  "host_permissions": [
    "http://*/*",
    "https://*/*"
  ],
  "background": {
    "service_worker": "background/service-worker.js"
  },
  "content_scripts": [
    {
      "matches": [
        "http://*/*",
        "https://*/*"
      ],
      "js": [
        "utils/chrome-api-guard.js",
        "utils/extension-context-guard.js",
        "utils/logger.js",
        "utils/error-handler.js",
        "utils/dom-error-handler.js",
        "utils/communication-error-handler.js",
        "utils/permission-error-handler.js",
        "utils/promise-error-handler.js",
        "utils/simple-permission-checker.js",
        "utils/detection-throttler.js",
        "utils/performance-monitor.js",
        "utils/user-action-detector.js",
        "utils/user-feedback-system.js",
        "utils/popup-detector-guard.js",
        "utils/component-recovery.js",
        "utils/logging-integration.js",
        "utils/debug-interface.js",
        "libs/html2canvas.min.js",
        "content/performance-optimizer.js",
        "content/popup-detector-safe.js",
        "content/ad-preview-capture.js",
        "content/user-choice-dialog.js",
        "content/spa-handler.js",
        "content/website-adaptations.js",
        "content/content-script-clean.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    }
  ],
  "action": {
    "default_popup": "popup/popup.html",
    "default_title": "ポップアップ広告ブロッカー",
    "default_icon": {
      "16": "icons/icon16.png",
      "48": "icons/icon48.png",
      "128": "icons/icon128.png"
    }
  },
  "options_page": "options/options.html",
  "icons": {
    "16": "icons/icon16.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  },
  "web_accessible_resources": [
    {
      "resources": [
        "utils/chrome-api-guard.js",
        "utils/extension-context-guard.js",
        "utils/logger.js",
        "utils/error-handler.js",
        "utils/popup-detector-guard.js",
        "utils/component-recovery.js"
      ],
      "matches": [
        "<all_urls>"
      ]
    }
  ]
}