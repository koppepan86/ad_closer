# インストールガイド - ポップアップ広告ブロッカー

## システム要件

### 必須要件
- **Google Chrome**: バージョン 88 以上
- **オペレーティングシステム**: 
  - Windows 10 以上
  - macOS 10.14 以上
  - Linux (Ubuntu 18.04 以上推奨)
- **メモリ**: 最低 4GB RAM
- **ストレージ**: 50MB の空き容量

### 推奨要件
- **Google Chrome**: 最新版
- **メモリ**: 8GB RAM 以上
- **ストレージ**: 100MB の空き容量
- **インターネット接続**: 初回インストール時に必要

## インストール方法

### 方法1: Chrome Web Store（推奨）

#### ステップ1: Chrome Web Storeにアクセス
1. Google Chromeを開く
2. アドレスバーに `chrome://extensions/` と入力
3. 左上の「ストアを開く」をクリック
4. 検索バーで「ポップアップ広告ブロッカー」を検索

#### ステップ2: 拡張機能を追加
1. 検索結果から「ポップアップ広告ブロッカー」を選択
2. 「Chromeに追加」ボタンをクリック
3. 権限確認ダイアログで「拡張機能を追加」をクリック

#### ステップ3: インストール完了の確認
1. ブラウザのツールバーに拡張機能アイコンが表示される
2. アイコンをクリックして動作確認
3. 必要に応じて初期設定を行う

### 方法2: 開発版のインストール

#### 前提条件
- Git がインストールされている
- Node.js 16.0.0 以上がインストールされている
- npm 8.0.0 以上がインストールされている

#### ステップ1: ソースコードの取得
```bash
# GitHubからクローン
git clone https://github.com/your-username/chrome-popup-ad-blocker.git

# プロジェクトディレクトリに移動
cd chrome-popup-ad-blocker/chrome-extension
```

#### ステップ2: 依存関係のインストール
```bash
# 依存関係をインストール
npm install

# TypeScriptをビルド
npm run build
```

#### ステップ3: Chrome拡張機能として読み込み
1. Chromeで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を有効にする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `chrome-extension` フォルダを選択
5. 「選択」をクリック

#### ステップ4: 開発環境のセットアップ（オプション）
```bash
# 開発用ウォッチモード
npm run build:watch

# テストの実行
npm test

# リンターの実行
npm run lint
```

## 初期設定

### 基本設定
1. 拡張機能アイコンをクリック
2. 「設定」ボタンをクリック
3. 以下の項目を設定：
   - **拡張機能の有効化**: オン
   - **通知の表示**: オン
   - **学習機能**: オン
   - **検出感度**: 中（推奨）

### 権限の確認
1. `chrome://extensions/` を開く
2. ポップアップ広告ブロッカーの「詳細」をクリック
3. 「サイトアクセス」で「すべてのサイト」が選択されていることを確認

### ホワイトリストの設定（オプション）
信頼できるウェブサイトをホワイトリストに追加：
1. 設定ページを開く
2. 「ホワイトリスト」タブをクリック
3. 「新しいドメインを追加」をクリック
4. ドメイン名を入力（例: `example.com`）
5. 「追加」をクリック

## アップデート方法

### Chrome Web Store版
- 自動更新が有効な場合、バックグラウンドで自動的に更新されます
- 手動更新: `chrome://extensions/` → 「更新」ボタンをクリック

### 開発版
```bash
# 最新版を取得
git pull origin main

# 依存関係を更新
npm install

# ビルド
npm run build

# Chrome拡張機能ページで「再読み込み」をクリック
```

## アンインストール方法

### 完全アンインストール
1. `chrome://extensions/` を開く
2. ポップアップ広告ブロッカーの「削除」をクリック
3. 確認ダイアログで「削除」をクリック

### データの削除
拡張機能をアンインストールしても、設定データは残る場合があります：
1. 設定ページを開く（アンインストール前）
2. 「データ管理」タブをクリック
3. 「すべてのデータを削除」をクリック

## トラブルシューティング

### インストールエラー

#### エラー: "パッケージが無効です"
**原因**: ダウンロードしたファイルが破損している
**解決方法**:
1. ファイルを再ダウンロード
2. ウイルス対策ソフトを一時的に無効化
3. 管理者権限でChromeを実行

#### エラー: "権限が拒否されました"
**原因**: 企業ポリシーまたはセキュリティ設定
**解決方法**:
1. 管理者に相談
2. 企業ポリシーの確認
3. 別のユーザーアカウントで試行

#### エラー: "Manifest version 2 is deprecated"
**原因**: 古いバージョンの拡張機能
**解決方法**:
1. 最新版をダウンロード
2. Chrome を最新版に更新
3. 開発版の場合は最新のコードを取得

### 動作エラー

#### 拡張機能が表示されない
**確認事項**:
1. `chrome://extensions/` で有効になっているか
2. ツールバーにピン留めされているか
3. Chromeの再起動

#### ポップアップが検出されない
**確認事項**:
1. 拡張機能が有効になっているか
2. ウェブサイトがホワイトリストに入っていないか
3. 検出感度の設定

#### パフォーマンスの問題
**対処方法**:
1. 不要なウェブサイトをホワイトリストに追加
2. 検出遅延を増加
3. 詳細ログを無効化
4. 他の拡張機能との競合確認

### 開発版特有の問題

#### ビルドエラー
```bash
# Node.jsのバージョン確認
node --version  # v16.0.0以上必要

# npmのバージョン確認
npm --version   # v8.0.0以上必要

# 依存関係の再インストール
rm -rf node_modules package-lock.json
npm install
```

#### TypeScriptエラー
```bash
# TypeScriptの再インストール
npm install -g typescript

# 型定義の更新
npm update @types/chrome @types/node

# ビルドの実行
npm run build
```

## セキュリティ考慮事項

### 安全なインストール
1. **公式ソースからのみダウンロード**
   - Chrome Web Store（推奨）
   - 公式GitHubリポジトリ

2. **権限の確認**
   - 必要最小限の権限のみ許可
   - 不審な権限要求は拒否

3. **定期的な更新**
   - セキュリティパッチの適用
   - 最新機能の利用

### 企業環境での導入

#### 事前確認事項
1. 企業のセキュリティポリシー
2. IT部門の承認
3. ネットワーク制限の確認

#### 推奨設定
1. 統一された設定ファイルの配布
2. ログ機能の有効化
3. 定期的なセキュリティ監査

## サポート

### ヘルプリソース
- **ユーザーガイド**: `docs/USER_GUIDE.md`
- **FAQ**: `docs/FAQ.md`
- **API文書**: `docs/API.md`

### 問題報告
バグや問題を発見した場合：
1. GitHubのIssuesページで報告
2. 以下の情報を含める：
   - Chromeのバージョン
   - 拡張機能のバージョン
   - エラーメッセージ
   - 再現手順

### コミュニティサポート
- GitHub Discussions
- 開発者フォーラム
- ユーザーコミュニティ

---

インストールに関する追加の質問や問題がある場合は、GitHubのIssuesページでお気軽にお問い合わせください。